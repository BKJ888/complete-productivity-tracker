<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>生產力追蹤系統</title>
  <!-- 外部 CSS -->
  <link rel="stylesheet" href="css/style.css">
  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>🎯 完整生產力追蹤系統</h1>
      <p>番茄工作法 × 習慣追蹤 × 週間反思 × 目標管理</p>
    </div>

    <!-- 導覽 Tabs -->
    <div class="nav-tabs">
      <button class="nav-tab active" onclick="switchTab('pomodoro')">🍅 番茄工作法</button>
      <button class="nav-tab" onclick="switchTab('daily')">📅 每日追蹤</button>
      <button class="nav-tab" onclick="switchTab('weekly')">📊 週間反思</button>
      <button class="nav-tab" onclick="switchTab('monthly')">📈 月度報告</button>
      <button class="nav-tab" onclick="switchTab('goals')">🎯 目標管理</button>
    </div>

    <!-- Pomodoro Tab -->
    <div id="pomodoro-tab" class="tab-content active">
      <div style="text-align:center; margin-bottom:40px; padding:30px; background:#f8f9fa; border-radius:15px;">
        <div id="timer-display" style="font-size:4em; font-weight:bold; font-family:'Courier New', monospace; margin-bottom:20px; color:#007bff;">25:00</div>
        <div id="timer-status" style="font-size:1.5em; margin-bottom:20px;">⏰ 準備開始工作</div>
        <div id="current-task" style="background:#e3f2fd; padding:15px; border-radius:10px; margin-bottom:20px; border-left:4px solid #2196f3; display:none;">
          <strong>目前任務：</strong><span id="current-task-name"></span>
        </div>
        <div style="display:flex; justify-content:center; gap:15px;">
          <button id="start-btn" class="btn" style="background:#28a745; color:white;" disabled>▶️ 開始</button>
          <button id="pause-btn" class="btn" style="background:#ffc107; color:white;" disabled>⏸️ 暫停</button>
          <button id="reset-btn" class="btn" style="background:#dc3545; color:white;">🔄 重設</button>
        </div>
      </div>
      <div style="display:flex; gap:10px; margin-bottom:30px;">
        <input type="text" id="task-input" placeholder="輸入新任務..." style="flex:1; padding:12px 15px; border:2px solid #e0e0e0; border-radius:25px; font-size:1.1em;">
        <button id="add-btn" class="btn" style="background:#007bff; color:white;">➕ 新增任務</button>
      </div>
      <div id="task-list"></div>
    </div>

    <!-- Daily Tracker Tab -->
    <div id="daily-tab" class="tab-content">
      <!-- 保留你原本的每日追蹤程式區塊 -->
      <div class="daily-tracker">
        <div class="date-selector">
          <button class="date-nav" onclick="changeDate(-1)">◀️ 前一天</button>
          <div class="current-date" id="current-date"></div>
          <button class="date-nav" onclick="changeDate(1)">後一天 ▶️</button>
        </div>
        <div id="habits-grid"></div>
        <div style="text-align:center;">
          <button class="btn btn-save" onclick="saveDailyData()">💾 保存今日記錄</button>
        </div>
      </div>
    </div>

    <!-- Weekly Review Tab -->
    <div id="weekly-tab" class="tab-content">
      <!-- 保留你原本的週間反思程式區塊 -->
      <div id="progress-overview"></div>
      <div id="habits-chart"></div>
      <div class="reflection-section">
        <div class="reflection-title">🎉 本週最成功的三件事</div>
        <div id="achievements-list"></div>
      </div>
    </div>

    <!-- 月度報告 Tab -->
    <div id="monthly-tab" class="tab-content">
      <h2>📈 月度報告</h2>
      <canvas id="monthlyChart" style="max-height:400px;"></canvas>
      <div id="heatmap" style="margin-top:20px;"></div>
    </div>

    <!-- 目標管理 Tab -->
    <div id="goals-tab" class="tab-content">
      <h2>🎯 長期目標管理</h2>
      <div style="display:flex;gap:10px;margin-bottom:20px;">
        <input type="text" id="goal-input" placeholder="輸入長期目標..." style="flex:2;padding:10px;border-radius:8px;border:1px solid #ccc;">
        <input type="number" id="goal-target" placeholder="目標次數" style="width:120px;padding:10px;border-radius:8px;border:1px solid #ccc;">
        <button onclick="addGoal()" style="padding:10px 20px;border:none;background:#28a745;color:#fff;border-radius:8px;cursor:pointer;">新增</button>
      </div>
      <div id="goal-list"></div>
    </div>
  </div>

  <!-- 深色模式切換按鈕 -->
  <div style="position:fixed;bottom:20px;right:20px;">
    <button onclick="toggleDarkMode()" style="padding:10px 15px;border:none;border-radius:50%;background:#333;color:#fff;cursor:pointer;">🌙</button>
  </div>

  <!-- 通知 -->
  <div id="notification" class="notification"></div>

  <!-- 外部 JS -->
  <script src="js/app.js"></script>
</body>
</html>
